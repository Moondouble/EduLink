<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>teacherList.html</title>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.1.min.js"></script>
<script type="text/javascript">
$(function(){
    // script를 이용해서 checkbox를 하나이상 선택하도록 한다.
    $("#frm").submit(function(){
        if($("input:checkbox[name=teacherDels]:checked").length < 1){
            alert("하나이상 선택하세요.");
            return false;
        }
    });
    // checkBoxs를 선택을 하면 모두 선택이 되게 한다.
    $("#checkBoxs").click(function(){
        if($("#checkBoxs").prop("checked")){
            $("input:checkbox[name=teacherDels]").prop("checked", true);
        }else{
            $("input:checkbox[name=teacherDels]").prop("checked", false);
        }
    });
    // teacherDels를 체크를 하나씩 없애면 checkBoxs에 체크가 없어지고 모두 체크를 하면 checkBoxs도 체크가 되게 한다.
    $("input:checkbox[name=teacherDels]").click(function(){
        var tot = $("input:checkbox[name=teacherDels]").length;
        var checked = $("input:checkbox[name=teacherDels]:checked").length;
        if(tot == checked){
            $("#checkBoxs").prop("checked", true);
        }else{
            $("#checkBoxs").prop("checked", false);
        }
    });
});
</script>
</head>
<body>
교육자 목록<br />
<a href="teacherWrite">교육자 가입</a><br />
<table border=1 width="600">
    <!-- 교육자 조회하기 -->
    <form action="teacherList" method="get">
        <tr><td colspan="4">검색:
            <input type="search" name="searchWord" size="60" th:value="${searchWord}"/>
            <input type="submit" value="검색" />
        </td></tr>
    </form>
    <!-- 체크한 교육자들을 삭제 -->
    <form action="teachersDelete" method="post" id="frm">
        <!-- CHECKBOX를 이용해서 원하는 교육자들을 선택하여 삭제를 해보자 -->
        <tr><td>번호</td><td>아이디</td><td>이름</td>
            <td><input type="checkbox" id="checkBoxs"/>
                <input type="submit" value="삭제" />
            </td></tr>
        <!-- 상세보기 및 교육자 정보 수정 -->
        <tr th:each="dto:${list}">
            <td><a th:href="|teacherDetail?teacherNum=${dto.teacherNum}|">[[${dto.teacherNum}]]</a></td>
            <td><a th:href="|teacherDetail?teacherNum=${dto.teacherNum}|">[[${dto.teacherId}]]</a></td>
            <td><a th:href="|teacherDetail?teacherNum=${dto.teacherNum}|">[[${dto.teacherName}]]</a></td>
            <td><input type="checkbox" name="teacherDels" th:value="${dto.teacherNum}" /></td>
        </tr>
        <tr align="center"><td colspan="4">
            <th:block th:if="${page <= 1}">
            [이전]
            </th:block>
            <th:block th:if="${page > 1}">
            <a th:href="@{teacherList(page=${page - 1},searchWord=${searchWord})}">[이전]</a>
            </th:block>
            <th:block th:each=" i : ${#numbers.sequence(startPage, endPage)}">
            <a th:href="@{teacherList(page=${i},searchWord=${searchWord})}">[[${i}]]</a>
            </th:block>
            <th:block th:if="${page >= maxPage}">
            [다음]
            </th:block>
            <th:block th:if="${page < maxPage}">
            <a th:href="@{teacherList(page=${page + 1},searchWord=${searchWord})}">[다음]</a>
            </th:block>
        </td></tr>
    </form>
</table>
</body>
</html>
